<?xml version="1.0" encoding="utf-8"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:s="library://ns.adobe.com/flex/spark" 
				width="100%" height="100%" mouseChildren="false" rollOver="showToolTip()">
	
	<fx:Script>
		<![CDATA[
			import com.dubitplatform.shared.DemoToolTip;
			
			import uk.co.dubit.platform.components.experienceBars.ExperienceBar;
			import uk.co.dubit.platform.components.experienceBars.ExperienceLevel;
			
			[Bindable(event="dataChange")]
			public function get level() : ExperienceLevel
			{
				return data as ExperienceLevel;
			}
			
			[Bindable(event="dataChange")]
			public function get experienceBar() : ExperienceBar
			{
				return level.parent as ExperienceBar;
			}
			
			
			private function showToolTip() : void
			{
				var pointsUntilReachedLevel:int = level.points - experienceBar.points;
				
				var message:String = pointsUntilReachedLevel <= 0 ? 
					"Level Reached!" : 
					"You need " + pointsUntilReachedLevel + " points to reach this level";
				
				DemoToolTip.show(this, message);
			}
		]]>
	</fx:Script>
	
	<s:HGroup top="4" bottom="4" left="4" right="4" verticalAlign="middle">
		<s:CheckBox selected="{ experienceBar.currentLevel == level }" />
		<s:Label text="{ level.name }" />
		<s:Group width="100%" />
		<s:Label text="({ level.points } points)" />
	</s:HGroup>
	
</s:ItemRenderer>
